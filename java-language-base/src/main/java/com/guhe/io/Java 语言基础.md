# Java 语言基础

## 变量

### 变量类型

Java 语言提供了四种变量类型

- 实例变量
- 类变量（静态字段）
- 局部变量
- 参数（局部变量）

类中的变量通常也称为字段（保存实例的状态），可分为实例字段和静态字段，实例字段与每个实例相关，而静态字段只与类对象相关，被类的所有实例所共享。

实例变量和类变量定义在类体中，方法和代码块外；局部变量定义在类的方法或代码块中。

静态变量和静态代码块在类被第一次加载的时候由JVM执行，无需程序员干预，且只会执行一次；实例变量和非静态代码块在使用关键字new创建对象的时候会被执行，且每创建一个对象便会执行一次；静态变量和实例变量都有默认值，而局部变量没有，因此局部变量必须先赋值在访问。

静态变量的生命周期处于类的加载到类的卸载这一时间范围；实例变量的生命周期处于创建对象到对象不可达被GC回收这一时间范围；局部变量的生命周期只在代码块或方法内有效。

实例变量的初始化位置

- 声明处直接赋值
- 构造器中
- 非静态代码块

静态变量的初始化位置

- 声明处直接赋值
- 静态代码块



### 变量的作用域

变量的范围是程序中该变量可以被引用的部分。

方法内定义的变量被称为局部变量。

局部变量的作用范围从声明开始，直到包含它的块结束。

局部变量必须声明才可以使用。

方法的参数范围涵盖整个方法。参数实际上是一个局部变量。

for循环的初始化部分声明的变量，其作用范围在整个循环。

但循环体内声明的变量其适用范围是从它声明到循环体结束。



## 数据类型

### Primitive data types

Java 语言提供了八种基本数据类型，这些取值范围可通过对应的包装类查看。

- `byte`
  
  > 字节数据类型是一个 8 位有符号二进制补码整数。存储的值范围：-128 ~ 127
- `short`
  
  > short 数据类型是 16 位有符号二进制补码整数。它的最小值为-32,768，最大值为 32,767。
- `int`
  
  > 默认情况下，int 数据类型是一个 32 位有符号二进制补码整数，其最小值为 -231，最大值为 231-1。
- `long`
  
  > long 数据类型是 64 位二进制补码整数。 signed long 的最小值为 -263，最大值为 263-1。
- `float`
  
  > 定义一个单精度浮点数变量，占 4 个字节，范围 1.4E-45 ~ 3.4028235E38，Java 中的字面量浮点数默认是 double 类型，因此想要表示 float 类型需要在浮点数后加上 F/f。
- `double`
  
  > 定义一个双精度浮点数变量，占 8 个字节，范围 4.9E-324 ~ 1.7976931348623157E308。
- `char`
  
  > char 数据类型是单个 16 位 Unicode 字符。它的最小值为 '\u0000'（或 0），最大值为 '\uffff'（或 65,535）。
- `boolean`
  
  > 布尔数据类型只有两个可能的值：true 和 false。这种数据类型代表一位信息，但它的“大小”并不是精确定义的。

### Reference data types



## 包装基本数据类型

### 八大包装类

- `Byte`
- `Short`
- `Integer`
- `Long`
- `Float`
- `Double`
- `Character`
- `Boolean`

### 自动装箱和自动拆箱

### 包装类的缓存机制



## 默认值

对于基本数据类型而言，如果定义在类的作用域中作为一个实例的字段但是没有被初始化，那么编译器会为这些字段设置合理的默认值。通常都是 zero 或者 null。但是依赖于这样的默认值被认为是不好的编程风格。

对于局部变量而言，它们没有默认值，因此必须先显示地赋值之后才能使用。否则会发生编译期异常。



## 字面量

字面量是一个固定值的表示形式。如下：

```java
boolean result = true;
char capitalC = 'C';
byte b = 100;
short s = 10000;
int i = 100000;
String str = "Hello World";
```

### 整数字面量

一个 long 类型的整数的字面量必须以 L 或 l 结尾，或者它会被当做一个 int 型整数。

整数的数字系统表示方式

- 十进制
- 二进制
- 十六进制

```java
// The number 26, in decimal
int decVal = 26;
//  The number 26, in hexadecimal
int hexVal = 0x1a;
// The number 26, in binary
int binVal = 0b11010;
```

### 浮点数字面量

一个 float 类型的浮点数必须以 F 或 f 结尾，或者它会被认为是一个 double 类型的浮点数，该类型的浮点数结尾可选择使用 D 或 d 标记。浮点数可以使用科学符号 E 或 e 表示。示例如下：

```java
double d1 = 123.4;
// same value as d1, but in scientific notation
double d2 = 1.234e2;
float f1  = 123.4f;
```

### 字符和字符串字面量

char 和 String 类型的文字可以包含任何 Unicode (UTF-16) 字符。总是对字符文字使用“单引号”，对字符串文字使用“双引号”。



## 数组



## 枚举



## 类

### 类的成员

- 字段
  - 实例字段
  - 静态字段
- 方法
  - 实例方法
  - 静态方法
- 构造器
- 代码块
  - 非静态代码块
  - 静态代码块
- 内部类
  - 成员内部类
  - 静态成员内部类
  - 匿名内部类
  - 局部内部类

### this 和 super

### 构造器

### 抽象类

### final

### 权限修饰符

- private

- default

- protected

- public



## 接口



## 注解



## 注释

Java 有三种类型的注释

- 单行注释

  ```java
  // 这是单行注释
  ```

- 多行注释

  ```java
  /*
  这是多行注释
  */
  ```

- 文档注释（Java Doc）

  ```java
  /**
  这是文档注释
  */
  ```



## 运算符

### 算术运算符

- `+`
- `-`
- `*`
- `/`
- `%`
- `++`
- `--`

### 赋值运算符

- `=`
- `+=`
- `-=`
- `*=`
- `/=`
- `%=`
- `<<=`
- `>>=`
- `&=`
- `|=`
- `^=`

### 比较运算符

- `==`
- `>=`
- `<=`
- `>`
- `<`
- `!=`

### 逻辑运算符

- `&&`
- `||`
- `!`

### 位运算符

> Java定义了位运算符，应用于整数类型(int)，长整型(long)，短整型(short)，字符型(char)，和字节型(byte)等类型。

- `＆`如果相对应位都是1，则结果为1，否则为0
- `|`如果相对应位都是 0，则结果为 0，否则为 1
- `^`如果相对应位值相同，则结果为0，否则为1
- `~`按位取反运算符翻转操作数的每一位，即0变成1，1变成0
- `<<`按位左移运算符。左操作数按位左移右操作数指定的位数
- `>>`按位右移运算符。左操作数按位右移右操作数指定的位数
- `>>>`按位右移补零操作符。左操作数的值按右操作数指定的位数右移，移动得到的空位以零填充

### 三元运算符（条件运算符）

### instance of 运算符

### 类型转换

**隐式类型转换（向上类型转换）**

因为Java默认的数值类型是int，因此在将char、byte、short和int一起运算时，会进行隐式地类型转换，将运算结果转换为int型。

```java
byte n1 = 1;
byte n2 = n1 + 1; // wrong
byte n1 = 1;
n1 += 2; // 隐式类型转换 (int) ((byte)1 + (int)2)
```

总之，表达式的结果是参与表达式计算的最大值的类型。

**强制类型转换（向下类型转换）**



## 重载和重写



## final、abstract、static 关键字之间不能同时使用的注意事项

final 用来修饰一个类或方法时，表示不可以被子类化或覆盖该方法；abstract修饰一个类或方法时，表示该类或方法是抽象的，需要被子类化或覆盖实现，因此这两个关键字之间相互矛盾。

而 static 修饰的方法表示静态方法，与类相关联，不与对象相关，且静态方法不能被重写，因此无法与 abstract 一起使用。



## volatile、transient、synchronize、native 关键字



## 程序的流程结构

### 顺序结构

### 选择结构

- 单分支 `if`
- 双分支 `if else`
- 多分支 `if else if else`
- 条件值有限且确定的时候可以使用 `switch case` 语句

### 循环结构

- `for` 循环，循环次数确定
- `while` 循环，循环次数不确定，依赖于循环条件
- `do while` 循环，循环次数不确定，依赖于循环条件
- `foreach`循环，增强的for循环，本质是语法糖

### return、break、continue

